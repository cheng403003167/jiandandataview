(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"2c75":function(t,i,a){},"84f7":function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"day"},[a("el-row",{staticClass:"btn-con",attrs:{type:"flex",justify:"space-between"}},[a("router-link",{staticClass:"reback",attrs:{to:"/"}},[t._v("返回")])],1),a("div",{staticStyle:{width:"800px",height:"400px"},attrs:{id:"main"}}),a("el-row",{staticClass:"btn-con",attrs:{type:"flex",justify:"space-between"}},[a("el-button",{on:{click:function(i){return t.getDayData(t.month,t.day,"reduce")}}},[t._v("前一天")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.hasPrev,expression:"hasPrev"}],on:{click:function(i){return t.prevStep()}}},[t._v("上一步")]),a("el-button",{on:{click:function(i){return t.getDayData(t.month,t.day,"add")}}},[t._v("后一天")])],1),a("el-row",{staticClass:"btn-con2",attrs:{type:"flex",justify:"space-between"}},[a("el-button",{attrs:{autofocus:""},on:{click:function(i){return t.changeImgData()}}},[t._v("图片数据")]),a("el-button",{on:{click:function(i){return t.changeImgHour()}}},[t._v("每小时数据")]),a("el-button",{on:{click:function(i){return t.changeUserData()}}},[t._v("用户数据")])],1)],1)},n=[],s=(a("7f7f"),a("6b54"),a("ac6a"),a("313e")),r=a.n(s),o={data:function(){return{config:{title:{text:""},tooltip:{show:!0},xAxis:{data:[]},yAxis:{},series:[{name:"每日图片数",type:"bar",data:[]}]},configTimeData:{title:{text:"每小时上传图片的数据"},tooltip:{show:!0},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{data:[],type:"line",name:"图片数"}]},dayData:{},year:0,month:0,day:0,time:0,timeModel:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},hasPrev:0,imgData:1}},created:function(){this.year=(new Date).getFullYear(),this.month=this.$route.query.monthId,this.day=this.$route.query.dayId,this.maxDayToMonth=new Date(this.year,this.month,0).getDate()},mounted:function(){this.getDayData(this.month,this.day)},methods:{getDayData:function(t,i,a){var e=this,n=this;if("reduce"==a?i=parseInt(i)-1:"add"==a&&(i=parseInt(i)+1),i<1)if(t-1>0){var s=new Date(this.year,--t,0);i=s.getDate()}else{new Date(this.year-1,12,0);i=31,t=12}i>this.maxDayToMonth&&(i=1,t+1>12?t=1:t++),this.axios({url:"http://ch.dnitu.top/jiandanimgAPI/day/"+this.year+"/"+this.dubbleString(t)+"/"+this.dubbleString(i),method:"get"}).then(function(s){s.data.originData.length>0&&(n.dayData=s.data,n.day=parseInt(i),n.month=parseInt(t),"add"==a&&1==i&&1==t?n.year++:"reduce"==a&&31==i&&12==t&&n.year--,n.maxDayToMonth=new Date(e.year,t,0).getDate(),1==n.imgData?n.changeImgData():2==n.imgData?n.changeImgHour():3==n.imgData&&n.changeUserData())})},changeImgData:function(){this.imgData=1;var t=r.a.init(document.getElementById("main"));this.config.series[0].data=[],this.config.xAxis.data=[],this.config.title.text=this.dubbleString(this.month)+"月"+this.dubbleString(this.day)+"日图片数据("+this.getDayName()+")",this.config.xAxis.data.push("总数"),this.config.series[0].data.push(this.dayData.originData.length),this.config.series[0].name="图片数量",this.config.xAxis.data.push("jpg"),this.config.series[0].data.push(this.dayData.type["jpg"]),this.config.xAxis.data.push("gif"),this.config.series[0].data.push(this.dayData.type["gif"]),t.setOption(this.config),t.off("click")},changeImgHour:function(){var t=this;this.imgData=2;var i=Object.assign({},this.timeModel);for(var a in this.dayData.originData.forEach(function(t){var a=new Date(t.update).getHours().toString();0==i[a]?i[a]=1:i[a]>0&&++i[a]}),this.configTimeData.xAxis.data=[],this.configTimeData.series[0].data=[],i)this.configTimeData.xAxis.data.push(a),this.configTimeData.series[0].data.push(i[a]);this.configTimeData.title.text=this.dubbleString(this.month)+"月"+this.dubbleString(this.day)+"日每小时上传图片的数据("+this.getDayName()+")";var e=r.a.init(document.getElementById("main"));e.setOption(this.configTimeData),e.off("click"),e.on("click",function(i){t.time=i.name,t.changeTimeData(t.time)})},changeTimeData:function(t){var i=this;this.time!=t&&(this.time=t);var a=r.a.init(document.getElementById("main")),e=[],n=[],s=[];this.dayData.originData.forEach(function(i){var a=new Date(i.update).getHours().toString();a==t&&e.push(i)}),e.forEach(function(t){n.indexOf(t.userName)<0?(n.push(t.userName),s[n.indexOf(t.userName)]=1):s[n.indexOf(t.userName)]++}),this.config.series[0].data=[],this.config.xAxis.data=[],this.config.title.text=this.dubbleString(this.month)+"月"+this.dubbleString(this.day)+"日"+t+"时上传图片数据("+this.getDayName()+")",this.config.xAxis.data=n,this.config.series[0].data=s,a.setOption(this.config),a.off("click"),a.on("click",function(t){i.changeUserTimeData(t)})},changeUserTimeData:function(t){var i=Object.assign({},this.timeModel);for(var a in this.dayData.originData.forEach(function(a){if(a.userName==t.name){var e=new Date(a.update).getHours().toString();0==i[e]?i[e]=1:i[e]>0&&++i[e]}}),this.configTimeData.xAxis.data=[],this.configTimeData.series[0].data=[],i)this.configTimeData.xAxis.data.push(a),this.configTimeData.series[0].data.push(i[a]);this.configTimeData.title.text=this.dubbleString(this.month)+"月"+this.dubbleString(this.day)+'日"'+t.name+'"每小时上传图片的数据('+this.getDayName()+")";var e=r.a.init(document.getElementById("main"));e.setOption(this.configTimeData),e.off("click"),this.hasPrev=1},changeUserData:function(){var t=this;this.imgData=3;var i=[],a=[],e=[],n=[];this.dayData.originData.forEach(function(t){i.indexOf(t.userId)<0?(i.push(t.userId),a[i.indexOf(t.userId)]=t.userName,e[i.indexOf(t.userId)]=1):e[i.indexOf(t.userId)]++});for(var s=0;s<10;s++){var o=Math.max.apply(Math,e);n.push({id:i[e.indexOf(o)],userName:a[e.indexOf(o)],number:o}),i.splice(e.indexOf(o),1),a.splice(e.indexOf(o),1),e.splice(e.indexOf(o),1)}var h=r.a.init(document.getElementById("main"));this.config.series[0].data=[],this.config.xAxis.data=[],this.config.title.text=this.dubbleString(this.month)+"月"+this.dubbleString(this.day)+"日用户图片数据(默认展示前10个)("+this.getDayName()+")",this.config.xAxis.data.push("总数"),this.config.series[0].data.push(this.dayData.originData.length),this.config.series[0].name="图片数量";for(var c=0;c<10;c++)this.config.xAxis.data.push(n[c].userName),this.config.series[0].data.push(n[c].number);h.setOption(this.config),h.off("click"),h.on("click",function(i){"总数"!=i.name&&t.changeUserTimeData(i)})},prevStep:function(){var t=this;if(this.hasPrev){this.hasPrev=0;var i=r.a.init(document.getElementById("main"));i.setOption(this.config),i.on("click",function(i){t.changeUserTimeData(i)})}},dubbleString:function(t){return t.toString().length<=1&&(t=0+t.toString()),t},getDayName:function(){var t=new Date(this.year+"-"+this.dubbleString(this.month)+"-"+this.dubbleString(this.day)).getDay(),i="";switch(t){case 0:i="星期日";break;case 1:i="星期一";break;case 2:i="星期二";break;case 3:i="星期三";break;case 4:i="星期四";break;case 5:i="星期五";break;default:i="星期六";break}return i}}},h=o,c=(a("a99d"),a("2877")),u=Object(c["a"])(h,e,n,!1,null,null,null);i["default"]=u.exports},a99d:function(t,i,a){"use strict";var e=a("2c75"),n=a.n(e);n.a},ac6a:function(t,i,a){for(var e=a("cadf"),n=a("0d58"),s=a("2aba"),r=a("7726"),o=a("32e9"),h=a("84f2"),c=a("2b4c"),u=c("iterator"),d=c("toStringTag"),g=h.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},l=n(f),m=0;m<l.length;m++){var D,y=l[m],p=f[y],b=r[y],x=b&&b.prototype;if(x&&(x[u]||o(x,u,g),x[d]||o(x,d,y),h[y]=g,p))for(D in e)x[D]||s(x,D,e[D],!0)}},f820:function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"about"},[a("h1",[t._v("This is an about page")])])}],s=a("2877"),r={},o=Object(s["a"])(r,e,n,!1,null,null,null);i["default"]=o.exports}}]);
//# sourceMappingURL=about.542c3fdc.js.map